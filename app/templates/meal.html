{% extends "base.html" %}

{% macro with_errors(field) %}
    <div class="form_field">
    {% if field.errors %}
        {% set css_class = 'has_error ' + kwargs.pop('class', '') %}
        {{ field(class=css_class, **kwargs) }}
        <ul class="errors">{% for error in field.errors %}<li>{{ error|e }}</li>{% endfor %}</ul>
    {% else %}
        {{ field(**kwargs) }}
    {% endif %}
    </div>
{% endmacro %}

{% macro items(item) -%}
  {% if item.legend == "label" %}
    <b><p>{{ item.item }}</p></b>
  {% elif item.legend == "vegan" %}
    <p style="color: #0000FF">{{ item.item }}</p>
  {% elif item.legend == "vegetarian" %}
    <p style="color: LimeGreen">{{ item.item }}</p>
  {% elif item.legend == "pork" %}
    <p style="color: #8000FF">{{ item.item }}</p>
  {% else %}
    <p>{{ item.item }}</p>
  {% endif %}
{%- endmacro %}

{% block content %}

<div class="container">
  <div class="row">
    <div class="col-sm-2">
      <h3>Butler / Wilson</h3>
      {% for item in wucox %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
      <h3>CJL</h3>
      {% for item in cjl %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
      <h3>Whitman</h3>
      {% for item in whitman %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
      <h3>Ro / Ma</h3>
      {% for item in roma %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
      <h3>Forbes</h3>
      {% for item in forbes %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
      <h3>Grad</h3>
      {% for item in grad %}
          {{ items(item) }}
      {% endfor %}
    </div>
    <div class="col-sm-2">
    <div class="well well-sm">
      <p><b>Legend</b></p>
        <p style="color: #0000FF">Vegan - no animal derivatives</p>
        <p style="color: LimeGreen">Vegetarian - no meat products</p>
        <p style="color: #8000FF">Contains Pork</p>
      </div>
    </div>
  </div>
  </div>
</div>

<div class="container">
  <form method="post" action="">
    {{ with_errors(form.text, style='font-weight: bold') }}
    <!--<div>{{ form.text.label }}: {{ form.text() }}</div>
    <div>{{ form.author.label }}: {{ form.author() }}</div>-->
    <p><button type="submit">Submit</button></p>
  </form>
  <div class="row">
    {% for c in comments %}<div class="col-sm-2">{{ c.text }}</div>{% endfor %}
  </div>
</div>


{% endblock %}
